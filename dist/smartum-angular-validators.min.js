/** 
 * smartum-angular-validators v0.6.0
 */


!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular","moment"],b):b(a.angular,a.moment)}(this,function(a,b){"use strict";var c=a.module("smartumValidators",[]);c.directive("businessId",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$validators.businessId=function(a){if(d.$isEmpty(a))return!0;if(!a||null===a.match(/^\d{7}-\d$/g))return!1;var b=parseInt(a[8],10),c=[7,9,10,5,8,4,2].map(function(b,c){return parseInt(a[c],10)*b}).reduce(function(a,b){return a+b})%11;switch(c){case 0:return 0===b;case 1:return!1}return 11-c===b}}}}),c.directive("ssn",function(){return{restrict:"A",require:"ngModel",link:function(a,c,d,e){var f=function(a){if(e.$isEmpty(a)||"string"!=typeof a)return"";var b=a.toUpperCase(),d=c[0].selectionStart;return b!==a&&(e.$setViewValue(b),e.$render(),c[0].setSelectionRange(d,d)),b};e.$parsers.unshift(f),e.$validators.ssn=function(a){if(e.$isEmpty(a))return!0;var c=a.toUpperCase().match(/^(\d{2})(\d{2})(\d{2})[-+a](\d{3})([abcdefhjklmnprstuvwxy0-9])$/i);if(null===c||!b(c[1]+"-"+c[2]+"-"+c[3],"DD-MM-YY").isValid())return!1;var d={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F",16:"H",17:"J",18:"K",19:"L",20:"M",21:"N",22:"P",23:"R",24:"S",25:"T",26:"U",27:"V",28:"W",29:"X",30:"Y"},f=parseInt(""+c[1]+c[2]+c[3]+c[4],10)%31;return 10>f?f===parseInt(c[5],10):d.hasOwnProperty(f.toString())&&d[f]===c[5]},f(a[d.ngModel])}}}),c.directive("iban",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=function(a){if(d.$isEmpty(a)||"string"!=typeof a)return"";var c=a.toUpperCase(),e=b[0].selectionStart;return c!==a&&(d.$setViewValue(c),d.$render(),b[0].setSelectionRange(e,e)),c};d.$parsers.unshift(e),d.$validators.iban=function(a){if(d.$isEmpty(a))return!0;var b="A".charCodeAt(0),c="Z".charCodeAt(0),e=a.toUpperCase().replace(/\s/g,"");e=e.substr(4)+e.substr(0,4);for(var f=e.split("").map(function(a){var d;return d=a.charCodeAt(0),d>=b&&c>=d?d-b+10:a}).join("");f.length>2;){var g=f.slice(0,9);f=parseInt(g,10)%97+f.slice(g.length)}return parseInt(f,10)%97===1},e(a[c.ngModel])}}}),c.directive("phone",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$validators.phone=function(a){return d.$isEmpty(a)?!0:null!==a.match(/\+(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{1,14}$/g)}}}})});
//# sourceMappingURL=smartum-angular-validators.min.js.map